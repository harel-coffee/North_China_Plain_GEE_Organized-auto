ggsave(plot = plt_compare_original_temporal_acc,
"../Section_2_1_2_compare_original_temporal_acc.svg",
width = 16,
height = 9,
units = "cm",
dpi=500)
ggsave(plot = plt_compare_original_temporal_acc,
"../Section_2_1_2_compare_original_temporal_acc.png",
width = 16,
height = 9,
units = "cm",
dpi=500)
library(ggplot2)
library(tidyr)
library(dplyr)
library(cowplot)
library(stringr)
library(comprehenr)
library(stringr)
#________________________step 1: read data and format the df________________________
data.area_change = read.csv(paste("../../Process_2_Temporal_Check/",
"Result/",
"Area_change.csv",sep=""),
stringsAsFactors = T)%>%
mutate(year = paste0((year-1),'-',(year+1)))
#______________________step 2: make plot of area change of my study________________________
p_2_2 = data.area_change %>%
mutate(area = sum*30*30/1000/1000) %>%
filter(Source == 'My') %>%
ggplot(aes(x=year,y=area,color=EN_Name,group=EN_Name)) +
geom_line(size=0.5) +
geom_point(size=1.5) +
scale_color_discrete(breaks=c("Shandong","Henan","Hebei","Anhui","Jiangsu","Beijing","Tianjin"))
plt_area_change = p_2_2 +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank(),
axis.line.x.bottom = element_line(),
axis.text.x = element_text(angle = 30, vjust = 0.5),
axis.line.y.left = element_line(),
legend.position = c(0.13, 0.75),
legend.key = element_rect(fill = NA )) +
scale_y_continuous(breaks = seq(0,200000,5000),labels = seq(0,20,0.5)) +
labs(color = '',
fill  = '',
y = bquote('Area ('*10^5 ~km^2*')'),
x = 'Year')
#______________________step 4: save plot to disk________________________
plt_area_change
ggsave(plot = plt_area_change,
"../Section_2_2_Area_change.svg",
width = 18,
height = 15,
units = "cm",
dpi=500)
ggsave(plot = plt_area_change,
"../Section_2_2_Area_change.png",
width = 18,
height = 15,
units = "cm",
dpi=500)
ggsave(plot = plt_area_change,
"../Section_2_2_Area_change.svg",
width = 16,
height = 9,
units = "cm",
dpi=500)
ggsave(plot = plt_area_change,
"../Section_2_2_Area_change.png",
width = 16,
height = 9,
units = "cm",
dpi=500)
plt_area_change = p_2_2 +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank(),
axis.line.x.bottom = element_line(),
axis.text.x = element_text(angle = 30, vjust = 0.5),
axis.line.y.left = element_line(),
legend.position = c(0.13, 0.75),
legend.key = element_rect(fill = NA ),
legend.background = element_blank()) +
scale_y_continuous(breaks = seq(0,200000,5000),labels = seq(0,20,0.5)) +
labs(color = '',
fill  = '',
y = bquote('Area ('*10^5 ~km^2*')'),
x = 'Year')
#______________________step 4: save plot to disk________________________
plt_area_change
ggsave(plot = plt_area_change,
"../Section_2_2_Area_change.svg",
width = 16,
height = 9,
units = "cm",
dpi=500)
ggsave(plot = plt_area_change,
"../Section_2_2_Area_change.png",
width = 16,
height = 9,
units = "cm",
dpi=500)
ggsave(plot = plt_area_change,
"../Section_2_2_Area_change.svg",
width = 17,
height = 10,
units = "cm",
dpi=500)
ggsave(plot = plt_area_change,
"../Section_2_2_Area_change.png",
width = 17,
height = 10,
units = "cm",
dpi=500)
ggsave(plot = plt_area_change,
"../Section_2_2_Area_change.svg",
width = 13,
height = 6,
units = "cm",
dpi=500)
ggsave(plot = plt_area_change,
"../Section_2_2_Area_change.png",
width = 13,
height = 6,
units = "cm",
dpi=500)
ggsave(plot = plt_area_change,
"../Section_2_2_Area_change.svg",
width = 13,
height =10,
units = "cm",
dpi=500)
ggsave(plot = plt_area_change,
"../Section_2_2_Area_change.png",
width = 13,
height =10,
units = "cm",
dpi=500)
plt_compare_original_temporal_acc
plt_inbands_acc_ribbon
ggsave(plot = plt_inbands_acc_ribbon,
"../Section_1_6_2_plt_inbands_acc_ribbon.svg",
width = 15,
height = 10,
units = "cm",
dpi=500)
ggsave(plot = plt_inbands_acc_ribbon,
"../Section_1_6_2_plt_inbands_acc_ribbon.png",
width = 15,
height = 10,
units = "cm",
dpi=500)
ggsave(plot = plt_inbands_acc_ribbon,
"../Section_1_6_2_plt_inbands_acc_ribbon.svg",
width = 15,
height = 13,
units = "cm",
dpi=500)
ggsave(plot = plt_inbands_acc_ribbon,
"../Section_1_6_2_plt_inbands_acc_ribbon.png",
width = 15,
height = 13,
units = "cm",
dpi=500)
ggsave(plot = plt_inbands_acc_ribbon,
"../Section_1_6_2_plt_inbands_acc_ribbon.svg",
width = 15,
height = 14,
units = "cm",
dpi=500)
ggsave(plot = plt_inbands_acc_ribbon,
"../Section_1_6_2_plt_inbands_acc_ribbon.png",
width = 15,
height = 14,
units = "cm",
dpi=500)
ggsave(plot = plt_inbands_acc_ribbon,
"../Section_1_6_2_plt_inbands_acc_ribbon.svg",
width = 16,
height = 14,
units = "cm",
dpi=500)
ggsave(plot = plt_inbands_acc_ribbon,
"../Section_1_6_2_plt_inbands_acc_ribbon.png",
width = 16,
height = 14,
units = "cm",
dpi=500)
plt_inbands_acc_ribbon = p_1_6_2 +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank(),
axis.line.x.bottom = element_line(),
axis.text.x = element_text(angle = 30,vjust = 0.5),
axis.line.y.left = element_line(),
legend.position = c(0.35, 0.58),
legend.background = element_blank()) +
ylab('Accuracy(%)') +
labs(color = 'Input predictors',
fill = 'Input predictors')
plt_inbands_acc_ribbon
ggsave(plot = plt_inbands_acc_ribbon,
"../Section_1_6_2_plt_inbands_acc_ribbon.svg",
width = 16,
height = 14,
units = "cm",
dpi=500)
ggsave(plot = plt_inbands_acc_ribbon,
"../Section_1_6_2_plt_inbands_acc_ribbon.png",
width = 16,
height = 14,
units = "cm",
dpi=500)
plt_inbands_acc_ribbon = p_1_6_2 +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank(),
axis.line.x.bottom = element_line(),
axis.text.x = element_text(angle = 30,vjust = 0.5),
axis.line.y.left = element_line(),
legend.position = c(0.35, 0.59),
legend.background = element_blank()) +
ylab('Accuracy(%)') +
labs(color = 'Input predictors',
fill = 'Input predictors')
ggsave(plot = plt_inbands_acc_ribbon,
"../Section_1_6_2_plt_inbands_acc_ribbon.svg",
width = 16,
height = 14,
units = "cm",
dpi=500)
ggsave(plot = plt_inbands_acc_ribbon,
"../Section_1_6_2_plt_inbands_acc_ribbon.png",
width = 16,
height = 14,
units = "cm",
dpi=500)
ggsave(plot = plot,
"../Section_1_6_1_Tree_Size_Accuracy.svg",
width = 14,
height = 15,
units = "cm",
dpi=300)
ggsave(plot = plot,
"../Section_1_6_1_Tree_Size_Accuracy.png",
width = 14,
height = 15,
units = "cm",
dpi=300)
plt_inbands_acc_ribbon
ggsave(plot = plt_inbands_acc_ribbon,
"../Section_1_6_2_plt_inbands_acc_ribbon.svg",
width = 15,
height = 14,
units = "cm",
dpi=500)
ggsave(plot = plt_inbands_acc_ribbon,
"../Section_1_6_2_plt_inbands_acc_ribbon.png",
width = 15,
height = 14,
units = "cm",
dpi=500)
ggsave(plot = plt_inbands_acc_ribbon,
"../Section_1_6_2_plt_inbands_acc_ribbon.svg",
width = 16.5,
height = 14,
units = "cm",
dpi=500)
ggsave(plot = plt_inbands_acc_ribbon,
"../Section_1_6_2_plt_inbands_acc_ribbon.png",
width = 16.5,
height = 14,
units = "cm",
dpi=500)
plt_compare_acc_area
library(ggplot2)
library(tidyr)
library(dplyr)
library(cowplot)
library(stringr)
library(comprehenr)
library(ggpubr)
scientific_10 <- function(x) {
parse(text=gsub("e", " %*% 10^", scales::scientific_format()(x)))
}
data.accuracy = read.csv(paste("../../Process_2_Temporal_Check/",
"Result/",
"Accuracy_comparision.csv",sep=""),
stringsAsFactors = T) %>%
mutate(Source = str_replace(Source, "My", "This study")) %>%
filter(year>=1990) %>%
filter((Source == 'This study') | (Source == 'GAIA')
| (Source == 'GIS')| (Source == 'Global Landcover 30'))
data.area_change = read.csv(paste("../../Process_2_Temporal_Check/",
"Result/",
"Area_change.csv",sep=""),
stringsAsFactors = T)
data_2_3_point = data.area_change %>%
filter((Source == 'GHSL') |(Source == 'GIS')|(Source == 'Global Landcover 30'))%>%
group_by(year,Source) %>%
summarise(area = sum(area_km2)) %>%
mutate(Source = str_replace(Source,'GIS','Global Impervious Surface'))%>%
mutate(Source = str_replace(Source,'Global Landcover 30','GlobeLand30'))
data_2_3_line = data.area_change %>%
filter((Source != 'GHSL') & (Source != 'GIS') & (Source != 'GRUMP 1995')
& (Source != 'Global Landcover 30')) %>%
group_by(year,Source) %>%
summarise(area = sum(area_km2)) %>%
mutate(Source = str_replace(Source, "My", "This study")) %>%
mutate(Source = str_replace(Source,'Global Urban He','Global Urban Expansion'))%>%
mutate(Source = str_replace(Source,'Global Urban Liu','Global Urban Dynamics'))%>%
mutate(Source = str_replace(Source,'MODIS','MCD12Q1'))
p_2_3 = ggplot( data = data_2_3_line, aes(x=year,y=area))  +
geom_line(aes(color=Source),size=1) +
geom_point(data = data_2_3_point,aes(fill=Source),shape=21,size=4) +
scale_fill_manual(values = c('grey70','yellow','#4C886B'))
plt_area_change_compare = p_2_3 +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank(),
axis.line.x.bottom = element_line(),
axis.line.y.left = element_line(),
#axis.text.x.bottom = element_blank(),
legend.position = c(0.32, 0.75),
legend.key = element_rect(fill = NA ),
legend.box = "vertival",
legend.spacing.y = unit(-0.3, "cm"))+
scale_y_continuous(breaks = seq(0,200000,25000),labels = seq(0,20,2.5)) +
scale_x_continuous(breaks = seq(1980,2020,5),minor_breaks = seq(1980,2020,1))+
guides(color = guide_legend(ncol = 1)) +
labs(color = '',
fill  = '',
y = bquote('Area ('*10^5 ~km^2*')'),
x = '')
plt_area_change_compare
data_2_4_point = data.accuracy %>%
filter((Source == 'GIS') |(Source == 'Global Landcover 30'))
data_2_4_line = data.accuracy %>%
filter((Source == 'GAIA') |(Source == 'This study'))
p_2_4 =
ggplot() +
geom_line(data = data_2_4_line,  aes(x=year,y=Overall_ACC,color=Source),size=1) +
geom_point(data = data_2_4_point,aes(x=year,y=Overall_ACC,fill=Source),shape=21,size=4) +
expand_limits(x = c(1990,2020))
plt_acc_compare = p_2_4 +
theme(panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.background = element_blank(),
axis.line.x.bottom = element_line(),
axis.line.y.left = element_line(),
legend.position = c(0.20, 0.7),
legend.key = element_rect(fill = NA ),
legend.box = "vertical") +
scale_x_continuous(breaks = seq(1990,2020,5) ) +
scale_color_manual(values=c('#B8A105','#F565E3'))+
scale_fill_manual(values=c("#FFFF00","#4C886B")) +
guides(color = guide_legend(ncol = 1)) +
labs(color = '',
fill  = '',
x='Year',
y='Accuracy (%)')
plt_acc_compare
plt_compare_acc_area = ggarrange(plt_area_change_compare,
plt_acc_compare,
align = 'v',
ncol=1,
nrow=2,
common.legend = TRUE,
legend="right",
labels = c('a)','b)'))
plt_compare_acc_area
ggsave(plot = plt_compare_acc_area,
"../Section_2_3_Acc_compare.svg",
width = 15,
height = 10,
units = "cm",
dpi=500)
ggsave(plot = plt_compare_acc_area,
"../Section_2_3_Acc_compare.png",
width = 15,
height = 10,
units = "cm",
dpi=500)
plt_compare_acc_area
plt_compare_acc_area = ggarrange(plt_area_change_compare,
plt_acc_compare,
align = 'v',
ncol=1,
nrow=2,
common.legend = TRUE,
legend="right",
labels = c('a)','b)'),
label.x = 0.15,
label.y = 0.6)
plt_compare_acc_area
plt_compare_acc_area = ggarrange(plt_area_change_compare,
plt_acc_compare,
align = 'v',
ncol=1,
nrow=2,
common.legend = TRUE,
legend="right",
labels = c('a)','b)'),
label.x = 0.2,
label.y = 0.7)
plt_compare_acc_area
plt_compare_acc_area = ggarrange(plt_area_change_compare,
plt_acc_compare,
align = 'v',
ncol=1,
nrow=2,
common.legend = TRUE,
legend="right",
labels = c('a)','b)'),
label.x = 0.2,
label.y = 0.9)
plt_compare_acc_area
plt_compare_acc_area = ggarrange(plt_area_change_compare,
plt_acc_compare,
align = 'v',
ncol=1,
nrow=2,
common.legend = TRUE,
legend="right",
labels = c('a)','b)'),
label.x = 0.2,
label.y = 1)
plt_compare_acc_area
plt_compare_acc_area = ggarrange(plt_area_change_compare,
plt_acc_compare,
align = 'v',
ncol=1,
nrow=2,
common.legend = TRUE,
legend="right",
labels = c('a)','b)'),
label.x = 0.2,
label.y = 0.5)
plt_compare_acc_area
plt_compare_acc_area = ggarrange(plt_area_change_compare,
plt_acc_compare,
align = 'v',
ncol=1,
nrow=2,
common.legend = TRUE,
legend="right",
labels = c('a)','b)'),
label.x = 0.2,
label.y = 0.6)
plt_compare_acc_area
plt_compare_acc_area = ggarrange(plt_area_change_compare,
plt_acc_compare,
align = 'v',
ncol=1,
nrow=2,
common.legend = TRUE,
legend="right",
labels = c('a)','b)'),
label.x = 0.2,
label.y = 0.7)
plt_compare_acc_area
ggsave(plot = plt_compare_acc_area,
"../Section_2_3_Acc_compare.svg",
width = 15,
height = 10,
units = "cm",
dpi=500)
ggsave(plot = plt_compare_acc_area,
"../Section_2_3_Acc_compare.png",
width = 15,
height = 10,
units = "cm",
dpi=500)
ggsave(plot = plt_compare_acc_area,
"../Section_2_3_Acc_compare.svg",
width = 15,
height = 10,
units = "cm",
dpi=800)
ggsave(plot = plt_compare_acc_area,
"../Section_2_3_Acc_compare.png",
width = 15,
height = 10,
units = "cm",
dpi=800)
plt_inbands_acc_ribbon
ggsave(plot = plt_inbands_acc_ribbon,
"../Section_1_6_2_plt_inbands_acc_ribbon.svg",
width = 16.5,
height = 14,
units = "cm",
dpi=800)
ggsave(plot = plt_inbands_acc_ribbon,
"../Section_1_6_2_plt_inbands_acc_ribbon.png",
width = 16.5,
height = 14,
units = "cm",
dpi=800)
plt_compare_original_temporal_acc
plt_area_change
ggsave(plot = plt_area_change,
"../Section_2_2_Area_change.svg",
width = 13,
height =10,
units = "cm",
dpi=800)
ggsave(plot = plt_area_change,
"../Section_2_2_Area_change.png",
width = 13,
height =10,
units = "cm",
dpi=800)

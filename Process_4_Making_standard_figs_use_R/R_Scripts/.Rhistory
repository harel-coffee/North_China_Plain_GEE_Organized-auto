filter( (From == 'Original value') & (Index == 'EVI')) %>%
ggplot(aes(x=Date,y=value)) +
facet_wrap(.~Type,nrow = 1) +
stat_bin2d(geom='raster',
aes(fill = after_stat(count)),
contour = F)
data.Fourier %>%
filter( (From == 'Original value') & (Index == 'EVI')) %>%
ggplot(aes(x=Date,y=value)) +
facet_wrap(.~Type,nrow = 1) +
stat_density_2d(geom='raster',
aes(fill = after_stat(count)),
contour = F)
data.Fourier %>%
filter( (From == 'Original value') & (Index == 'EVI')) %>%
ggplot(aes(x=Date,y=value)) +
facet_wrap(.~Type,nrow = 1) +
stat_density_2d(geom='raster',
aes(fill = after_stat(count)),
contour = F) +
coord_cartesian(ylim = c(0,0.7))
data.Fourier %>%
filter( (From == 'Original value') & (Index == 'EVI')) %>%
ggplot(aes(x=Date,y=value)) +
facet_wrap(.~Type,nrow = 1) +
stat_density_2d(geom='raster',
aes(fill = after_stat(count)),
contour = F) +
ylim = c(0,0.7)
data.Fourier %>%
filter( (From == 'Original value') & (Index == 'EVI')) %>%
ggplot(aes(x=Date,y=value)) +
facet_wrap(.~Type,nrow = 1) +
stat_density_2d(geom='raster',
aes(fill = after_stat(count)),
contour = F) +
scale_y_continuous(limits = c(0,0.7))
data.Fourier %>%
filter( (From == 'Original value') & (Index == 'EVI')) %>%
ggplot(aes(x=Date,y=value)) +
facet_wrap(.~Type,nrow = 1) +
stat_density_2d(geom='raster',
aes(fill = after_stat(count)),
contour = F) +
scale_y_continuous(limits = c(0,0.7),
expand = c(0,0))
data.Fourier %>%
filter( (From == 'Original value') & (Index == 'EVI')) %>%
ggplot(aes(x=Date,y=value)) +
facet_wrap(.~Type,nrow = 1) +
stat_density_2d(geom='raster',
aes(fill = after_stat(count)),
contour = F) +
scale_y_continuous(limits = c(0,0.7),
expand = c(0,0))+
scale_x_continuous(expand = c(0,0))
data.Fourier_Evi = data.Fourier %>%
filter( Index == 'EVI')
data.Fourier_Evi  %>%
ggplot(aes(x=Date,y=value)) +
facet_wrap(.~Type,nrow = 1) +
scale_y_continuous(limits = c(0,0.7),
expand = c(0,0))+
scale_x_continuous(expand = c(0,0)) +
geom_line(data=data.Fourier_Evi %>% select(-Type))
data.Fourier_Evi  %>%
ggplot(aes(x=Date,y=value)) +
facet_wrap(.~Type,nrow = 1) +
scale_y_continuous(limits = c(0,0.7),
expand = c(0,0))+
scale_x_continuous(expand = c(0,0)) +
geom_line(data=data.Fourier_Evi %>% filter(From == 'Fourier fit	')%>% select(-Type))
data.Fourier_Evi  %>%
ggplot(aes(x=Date,y=value)) +
facet_wrap(.~Type,nrow = 1) +
scale_y_continuous(limits = c(0,0.7),
expand = c(0,0))+
scale_x_continuous(expand = c(0,0)) +
geom_line(data=data.Fourier_Evi %>% filter(From == 'Fourier fit	')%>% select(-Type))
data=data.Fourier_Evi %>% filter(From == 'Fourier fit')%>% select(-Type)
View(data)
data.Fourier_Evi %>% filter(From == 'Fourier fit')%>% select(-Type)
View(data)
data.Fourier_Evi  %>%
ggplot(aes(x=Date,y=value)) +
facet_wrap(.~Type,nrow = 1) +
scale_y_continuous(limits = c(0,0.7),
expand = c(0,0))+
scale_x_continuous(expand = c(0,0)) +
geom_line(data=data.Fourier_Evi %>% filter(From == 'Fourier fit')%>% select(-Type))
data.Fourier_Evi  %>%
ggplot(aes(x=Date,y=value)) +
facet_wrap(.~Type,nrow = 1) +
scale_y_continuous(limits = c(0,0.7),
expand = c(0,0))+
scale_x_continuous(expand = c(0,0)) +
stat_summary(data=data.Fourier_Evi %>%
filter(From == 'Fourier fit') %>%
select(-Type),
geom = 'ribbon',
fun.data = 'mean_se')
data.Fourier_Evi  %>%
ggplot(aes(x=Date,y=value)) +
facet_wrap(.~Type,nrow = 1) +
scale_y_continuous(limits = c(0,0.7),
expand = c(0,0))+
scale_x_continuous(expand = c(0,0)) +
stat_summary(data=data.Fourier_Evi %>%
filter(From == 'Fourier fit'),
geom = 'ribbon',
fun.data = 'mean_se')
data.Fourier_Evi  %>%
ggplot(aes(x=Date,y=value)) +
facet_wrap(.~Type,nrow = 1) +
scale_y_continuous(limits = c(0,0.7),
expand = c(0,0))+
scale_x_continuous(expand = c(0,0)) +
stat_summary(data=data.Fourier_Evi %>%
filter(From == 'Fourier fit'),
geom = 'line',
fun = 'mean')
library(ggplot2)
library(tidyr)
library(dplyr)
library(cowplot)
library(stringr)
library(scales)
data.original_val = read.csv(paste("../../Process_3_Explore_Result/",
"Result/",
"Original_image_value.csv",sep=""),
stringsAsFactors = T) %>%
mutate(Type='Original',time = as.Date(time)) %>%
pivot_longer(cols = c(NDVI,NDBI,EVI),names_to = 'Index',values_to='val')
data.fitted_val = read.csv(paste("../../Process_3_Explore_Result/",
"Result/",
"Fitted_image_value.csv",sep=""),
stringsAsFactors = T)  %>%
mutate(Type='Fitted',time = as.Date(time)) %>%
pivot_longer(cols = c(NDVI,NDBI,EVI),names_to = 'Index',values_to='val')
data.original_fitted = rbind(data.fitted_val,data.original_val)
data.original_fitted %>%
group_by(Type) %>%
ggplot(aes(x=time,y=val,color=Type)) +
geom_line() +
facet_grid(Index~.,scale='free') +
scale_x_date(minor_breaks = '1 month',
breaks =  seq(as.Date("2017-01-01"), as.Date("2020-01-01"), by="6 months"),
date_labels = "%b\n%Y") +
labs(x='Date',y= 'Value')
data.original_10K = read.csv(paste("../../Process_3_Explore_Result/",
"Result/",
"Original_value.csv",sep=""),
stringsAsFactors = T) %>%
mutate(Date = as.Date(time),From = 'Original value')
data.fitted_10K = read.csv(paste("../../Process_3_Explore_Result/",
"Result/",
"Fitted_values.csv",sep=""),
stringsAsFactors = T) %>%
mutate(Date = as.Date(Date),From = 'Fourier fit')
# bind the values together
data.Fourier = rbind(data.original_10K %>% select(Date,From,Type,Index,value),
data.fitted_10K   %>% select(Date,From,Type,Index,value))
View(data.Fourier)
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
ggplot(aes(x=Date,y=value)) +
facet_grid(Index~From)
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
ggplot(aes(x=Date,y=value,color=From)) +
facet_wrap(Index~.)
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
ggplot(aes(x=Date,y=value,color=From)) +
facet_wrap(Index~.,ncol = 1)
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
ggplot(aes(x=Date,y=value,color=From)) +
facet_wrap(Index~.,ncol = 1) +
stat_summary(geom = 'ribbon',fun.data = 'mean_se')
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
ggplot(aes(x=Date,y=value,color=Type)) +
facet_wrap(Index~.,ncol = 1) +
stat_summary(geom = 'ribbon',fun.data = 'mean_se')
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
ggplot(aes(x=Date,y=value,fill=Type)) +
facet_wrap(Index~.,ncol = 1) +
stat_summary(geom = 'ribbon',fun.data = 'mean_se')
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
ggplot(aes(x=Date,y=value,fill=Type)) +
facet_wrap(Index~.,ncol = 1) +
stat_summary(geom = 'line',fun.data = 'mean')
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
ggplot(aes(x=Date,y=value,fill=Type)) +
facet_wrap(Index~.,ncol = 1) +
stat_summary(geom = 'line',fun = 'mean')
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
ggplot(aes(x=Date,y=value,color=Type)) +
facet_wrap(Index~.,ncol = 1) +
stat_summary(geom = 'line',fun = 'mean')
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
filter((value<0.8)&(value>-0.3)) %>%
ggplot(aes(x=Date,y=value,color=Type)) +
facet_wrap(Index~.,ncol = 1) +
stat_summary(geom = 'line',fun = 'mean')
library(ggplot2)
library(tidyr)
library(dplyr)
library(cowplot)
library(stringr)
library(scales)
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
filter((value<0.8)&(value>-0.3)) %>%
ggplot(aes(x=Date,y=value,color=Type)) +
facet_wrap(Index~.,ncol = 1) +
stat_summary(geom = 'line',fun = 'mean')
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
filter((value<0.8)&(value>-0.3)) %>%
ggplot(aes(x=Date,y=value,color=Type)) +
facet_wrap(Index~.,ncol = 1) +
stat_summary(geom = 'line',fun = 'mean') +
scale_x_date(minor_breaks = '1 month',
breaks =  seq(as.Date("2017-01-01"), as.Date("2020-01-01"), by="6 months"),
date_labels = "%b\n%Y") +
labs(x='Date',y= 'Value')
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
filter((value<0.8)&(value>-0.3)) %>%
ggplot(aes(x=Date,y=value,color=Type)) +
facet_wrap(Index~.,ncol = 1) +
stat_summary(geom = 'line',fun = 'mean') +
scale_x_date(minor_breaks = NA,
breaks =  seq(as.Date("2017-01-01"), as.Date("2020-01-01"), by="6 months"),
date_labels = "%b\n%Y") +
labs(x='Date',y= 'Value')
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
filter((value<0.8)&(value>-0.3)) %>%
ggplot(aes(x=Date,y=value,color=Type)) +
facet_wrap(Index~.,ncol = 1) +
stat_summary(geom = 'line',fun = 'mean') +
scale_x_date(minor_breaks = "",
breaks =  seq(as.Date("2017-01-01"), as.Date("2020-01-01"), by="6 months"),
date_labels = "%b\n%Y") +
labs(x='Date',y= 'Value')
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
filter((value<0.8)&(value>-0.3)) %>%
ggplot(aes(x=Date,y=value,color=Type)) +
facet_wrap(Index~.,ncol = 1) +
stat_summary(geom = 'line',fun = 'mean') +
scale_x_date(minor_breaks = "6 months",
breaks =  seq(as.Date("2017-01-01"), as.Date("2020-01-01"), by="6 months"),
date_labels = "%b\n%Y") +
labs(x='Date',y= 'Value')
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
filter((value<0.8)&(value>-0.3)) %>%
ggplot(aes(x=Date,y=value,color=Type)) +
facet_wrap(Index~.,ncol = 1) +
stat_summary(geom = 'line',fun = 'mean') +
scale_x_date(minor_breaks = "1 year",
breaks =  seq(as.Date("2017-01-01"), as.Date("2020-01-01"), by="6 months"),
date_labels = "%b\n%Y") +
labs(x='Date',y= 'Value')
library(ggplot2)
library(tidyr)
library(dplyr)
library(cowplot)
library(stringr)
library(scales)
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
filter((value<0.8)&(value>-0.3)) %>%
ggplot(aes(x=Date,y=value,color=Type)) +
facet_wrap(Index~.,ncol = 1) +
stat_summary(geom = 'line',fun = 'mean') +
scale_x_date(minor_breaks = "1 year",
breaks =  seq(as.Date("2017-01-01"), as.Date("2020-01-01"), by="6 months"),
date_labels = "%b\n%Y") +
labs(x='Date',y= 'Value')
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
filter((value<0.8)&(value>-0.3)) %>%
filter(Data < as.Date('2018-01-01')) +
ggplot(aes(x=Date,y=value,color=Type)) +
facet_wrap(Index~.,ncol = 1) +
stat_summary(geom = 'line',fun = 'mean') +
scale_x_date(minor_breaks = "1 year",
breaks =  seq(as.Date("2017-01-01"), as.Date("2020-01-01"), by="6 months"),
date_labels = "%b\n%Y") +
labs(x='Date',y= 'Value')
as.Date('2018-01-01')
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
filter((value<0.8)&(value>-0.3)) %>%
filter(Date < as.Date('2018-01-01')) +
ggplot(aes(x=Date,y=value,color=Type)) +
facet_wrap(Index~.,ncol = 1) +
stat_summary(geom = 'line',fun = 'mean') +
scale_x_date(minor_breaks = "1 year",
breaks =  seq(as.Date("2017-01-01"), as.Date("2020-01-01"), by="6 months"),
date_labels = "%b\n%Y") +
labs(x='Date',y= 'Value')
data.Fourier %>%
filter( From == 'Fourier fit') %>%
filter((value<0.8)&(value>-0.3)) %>%
filter(Date < as.Date('2018-01-01'))
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
filter((value<0.8)&(value>-0.3)) %>%
filter(Date < as.Date('2018-01-01')) +
ggplot(aes(x=Date,y=value,color=Type)) +
facet_wrap(Index~.,ncol = 1) +
stat_summary(geom = 'line',fun = 'mean') +
scale_x_date(minor_breaks = "1 year",
breaks =  seq(as.Date("2017-01-01"), as.Date("2020-01-01"), by="6 months"),
date_labels = "%b\n%Y") +
labs(x='Date',y= 'Value')
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
filter((value<0.8)&(value>-0.3)) %>%
filter(Date < as.Date('2018-01-01')) %>%
ggplot(aes(x=Date,y=value,color=Type)) +
facet_wrap(Index~.,ncol = 1) +
stat_summary(geom = 'line',fun = 'mean') +
scale_x_date(minor_breaks = "1 year",
breaks =  seq(as.Date("2017-01-01"), as.Date("2020-01-01"), by="6 months"),
date_labels = "%b\n%Y") +
labs(x='Date',y= 'Value')
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
filter((value<0.8)&(value>-0.3)) %>%
filter(Date < as.Date('2018-01-01')) %>%
ggplot(aes(x=Date,y=value,color=Type)) +
facet_wrap(Index~.,ncol = 1) +
stat_summary(geom = 'line',fun = 'mean') +
scale_x_date(minor_breaks = "2 months",
breaks =  seq(as.Date("2017-01-01"), as.Date("2020-01-01"), by="4 months"),
date_labels = "%b\n%Y") +
labs(x='Date',y= 'Value')
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
filter((value<0.8)&(value>-0.3)) %>%
filter(Date < as.Date('2018-01-01')) %>%
ggplot(aes(x=Date,y=value,color=Type)) +
facet_wrap(Index~.,ncol = 1) +
stat_summary(geom = 'line',fun = 'mean') +
scale_x_date(breaks =  seq(as.Date("2017-01-01"), as.Date("2020-01-01"), by="4 months"),
date_labels = "%b\n%Y") +
labs(x='Date',y= 'Value')
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
filter((value<0.8)&(value>-0.3)) %>%
filter(Date < as.Date('2018-01-01')) %>%
ggplot(aes(x=Date,y=value,color=Type)) +
facet_wrap(Index~.,ncol = 1) +
stat_summary(geom = 'line',fun = 'mean') +
scale_x_date(breaks =  seq(as.Date("2017-01-01"), as.Date("2020-01-01"), by="4 months"),
date_labels = "%b\n%Y") +
labs(x='Date',y= 'Value')
library(ggplot2)
library(tidyr)
library(dplyr)
library(cowplot)
library(stringr)
library(scales)
# only plot the fitted values
data.Fourier %>%
filter( From == 'Fourier fit') %>%
filter((value<0.8)&(value>-0.3)) %>%
filter(Date < as.Date('2018-01-01')) %>%
ggplot(aes(x=Date,y=value,color=Type)) +
facet_wrap(Index~.,ncol = 1) +
stat_summary(geom = 'line',fun = 'mean') +
scale_x_date(breaks =  seq(as.Date("2017-01-01"), as.Date("2020-01-01"), by="4 months"),
date_labels = "%b\n%Y") +
labs(x='Date',y= 'Value')
library(ggplot2)
library(tidyr)
library(dplyr)
library(cowplot)
library(stringr)
library(scales)
library(colorRamps)
#______________read data, using paste to concat long file path string______________
data.landsat = read.csv(paste("../../Process_3_Explore_Result/",
"Result/",
"Landsat_distribution.csv",sep=""),
stringsAsFactors = T)
data.sentinel = read.csv(paste("../../Process_3_Explore_Result/",
"Result/",
"Sentinel_distribution.csv",sep=""),
stringsAsFactors = T)
data.landsat %>%
mutate(Sensor = case_when(Sensor == 'LT05' ~ 'Landsat 5',
Sensor == 'LE07' ~ 'Landsat 7',
Sensor == 'LC08' ~ 'Landsat 8')) %>%
group_by(Sensor,Year,Month) %>%
summarise('Observation' = n()) %>%
ggplot(aes(x=Year,y=Month,fill = Observation)) +
geom_tile(color='grey95') +
scale_x_continuous(breaks = seq(1990,2019,2),minor_breaks = seq(1990,2019,1)) +
scale_y_continuous(breaks = seq(1,12),minor_breaks = 1) +
scale_fill_binned() +
facet_grid(.~Sensor,scales = 'free',space = "free_x")
data.sentinel %>%
group_by(Year,Month) %>%
summarise('Observation' = n()) %>%
ggplot(aes(x=Year,y=Month,fill = Observation)) +
geom_tile(color='grey95') +
scale_x_continuous(breaks = seq(2015,2019,1),minor_breaks = seq(2015,2019,1)) +
scale_y_continuous(breaks = seq(1,12),minor_breaks = 1) +
scale_fill_binned()
library(ggplot2)
library(tidyr)
library(dplyr)
library(cowplot)
library(stringr)
library(scales)
library(colorRamps)
#______________read data, using paste to concat long file path string______________
data.axia0 = read.csv(paste("../../Process_3_Explore_Result/",
"Result/",
"Axix_0_long.csv",sep=""),
stringsAsFactors = T)
data.axia1 = read.csv(paste("../../Process_3_Explore_Result/",
"Result/",
"Axix_1_long.csv",sep=""),
stringsAsFactors = T)
#____________________________________Make the plot_______________________________
data.axia0 %>%
ggplot(aes(x=Lat,y=Percent,color=Year)) +
geom_line()
data.axia1 %>%
ggplot(aes(x=Lon,y=Percent,color=Year)) +
geom_line()
library(ggplot2)
library(tidyr)
library(dplyr)
library(cowplot)
library(stringr)
library(comprehenr)
#________________________________read data, using pate to concat long file path string__________________________________________
data.area_change = read.csv(paste("../../Process_2_Temporal_Check/",
"Result/",
"Area_change.csv",sep=""),
stringsAsFactors = T)
# make plot
data.area_change %>%
filter(Type == 'My') %>%
ggplot(aes(x=year,y=sum,color=EN_Name,group=EN_Name)) +
geom_line() +
scale_color_viridis_d() +
labs(x='Year Range',y = 'Pixel Count') +
theme_bw()
# make plot
data.area_change %>%
filter(Type == 'My') %>%
ggplot(aes(x=year,y=sum,color=EN_Name,group=EN_Name)) +
geom_line() +
scale_color_discrete() +
labs(x='Year Range',y = 'Pixel Count') +
theme_bw()
# make plot
data.area_change %>%
filter(Type == 'My') %>%
ggplot(aes(x=year,y=sum,color=EN_Name,group=EN_Name)) +
geom_line(size=1.5) +
scale_color_discrete() +
labs(x='Year Range',y = 'Pixel Count') +
theme_bw()
# make plot
data.area_change %>%
filter(Type == 'My') %>%
ggplot(aes(x=year,y=sum,color=EN_Name,group=EN_Name)) +
geom_line(size=1) +
scale_color_discrete() +
labs(x='Year Range',y = 'Pixel Count') +
theme_bw()
